<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Oh my Goss - Internal Leak</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <link href="https://fonts.googleapis.com/css2?family=Archivo:ital,wdth,wght@0,100..900;1,100..900&family=JetBrains+Mono:wght@400;500;700;800&display=swap" rel="stylesheet">

  <style>
    :root {
      /* Premium Panic Palette */
      --bg-gradient-start: #FFB300; /* Amber Warning */
      --bg-gradient-end: #FF3D00;   /* Deep Orange */
      --accent: #D50000;            /* Alarm Red */
      --ink: #121212;               /* Soft Black */
      --paper: #F4F1EA;             /* Archival Paper */
      --paper-shadow: #BEBDB8;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      -webkit-font-smoothing: antialiased;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      background-color: var(--bg-gradient-start);
      background-image: linear-gradient(145deg, var(--bg-gradient-start), var(--bg-gradient-end));
      color: var(--ink);
      height: 100vh;
      height: 100dvh;
      width: 100vw;
      overflow: hidden;
      font-family: "JetBrains Mono", monospace;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    /* --- ATMOSPHERE --- */
    .grain {
      position: fixed; inset: 0; pointer-events: none; z-index: 2; opacity: 0.12;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    }
    .vignette {
      position: fixed; inset: 0; pointer-events: none; z-index: 3;
      background: radial-gradient(circle, transparent 30%, rgba(0,0,0,0.5) 100%);
    }

    /* --- BACKGROUND WALL --- */
    .wall-wrapper {
      position: absolute;
      inset: -20vh -50vw;
      width: 200vw;
      height: 140vh;
      display: flex;
      justify-content: center;
      gap: 16px;
      z-index: 1;
      transform: rotate(-3deg);
      pointer-events: none;
      opacity: 0.9;
    }

    .g-column {
      display: flex;
      flex-direction: column;
      gap: 16px;
      width: 220px;
      flex-shrink: 0;
      will-change: transform;
    }

    /* Animations */
    .scroll-up { animation: scrollUp 80s linear infinite; }
    .scroll-down { animation: scrollDown 70s linear infinite; }
    
    .g-note {
      background: rgba(255, 255, 255, 0.95);
      border-left: 4px solid var(--ink);
      padding: 14px;
      font-size: 10px;
      line-height: 1.5;
      color: var(--ink);
      box-shadow: 4px 4px 0 rgba(0,0,0,0.05);
      transition: all 0.2s ease;
    }

    .g-note b {
      display: block;
      font-family: "Archivo", sans-serif;
      font-weight: 800;
      text-transform: uppercase;
      font-size: 11px;
      margin-bottom: 4px;
      color: var(--accent);
      letter-spacing: 0.05em;
    }

    .g-note.shout { background: var(--ink); color: #fff; border-color: var(--accent); }
    .g-note.shout b { color: var(--bg-gradient-start); }
    .g-note.hot { background: #FFF5F5; border-color: var(--accent); }

    .timer {
      display: block;
      margin-top: 6px;
      font-size: 9px;
      text-align: right;
      color: #999;
      font-weight: 700;
    }
    
    /* --- MAIN CARD --- */
    .container {
      position: relative;
      width: 90%;
      max-width: 360px;
      padding: 36px 30px;
      z-index: 10;
      background: var(--paper);
      border: 4px solid var(--ink);
      box-shadow: 12px 12px 0px rgba(0,0,0,0.4);
      text-align: left;
      animation: enter 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }

    .badge {
      display: inline-block;
      background: var(--ink);
      color: white;
      padding: 4px 8px;
      font-size: 10px;
      font-weight: 800;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      margin-bottom: 24px;
    }
    .badge span { color: var(--accent); animation: blink 1s infinite; }

    /* --- BRAND STYLING --- */
    .brand {
      font-family: "Archivo", sans-serif;
      font-size: 52px;
      font-weight: 900;
      font-style: italic;
      letter-spacing: -0.04em;
      line-height: 0.9;
      margin-bottom: 24px;
      color: var(--ink);
      text-transform: uppercase;
    }
    
    .brand span {
      /* The Sticker/Tape Effect */
      display: inline-block;
      background: var(--accent);
      color: var(--paper);
      padding: 0px 8px;
      transform: rotate(-3deg); /* Slight tilt to pop */
      box-shadow: 4px 4px 0px rgba(0,0,0,0.2); /* Lift it off the page */
      text-shadow: 2px 2px 0px rgba(0,0,0,0.2); /* Depth within text */
      margin-left: -4px;
      z-index: 1;
      position: relative;
    }

    .tagline {
      font-size: 14px;
      line-height: 1.5;
      font-weight: 500;
      margin-bottom: 32px;
      color: #333;
    }
    .tagline strong {
      background: rgba(255, 214, 0, 0.95);
      padding: 0 4px;
      color: var(--ink);
    }

    /* --- 3D BUTTON STYLING --- */
    .btn-wrapper {
      position: relative;
      margin-bottom: 16px;
      margin-top: 10px;
    }

    button {
      width: 100%;
      height: 60px;
      background: #FFFFFF; 
      color: var(--ink);
      border: 3px solid var(--ink);
      
      /* PRETTY FONT: Lighter weight (800 vs 900) and wider spacing */
      font-family: "Archivo", sans-serif;
      font-weight: 800; 
      font-size: 18px;
      text-transform: uppercase;
      letter-spacing: 0.1em; /* Elegant spacing */
      
      /* The 3D Initial State */
      transform: translate(0, 0);
      box-shadow: 8px 8px 0px var(--accent); 
      transition: all 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      
      animation: attention 4s infinite ease-in-out;
    }
    
    /* Hover: Anticipation (Lift) */
    button:hover {
      transform: translate(-10px, -10px);
      box-shadow: 10px 10px 0px var(--accent);
      transition: all 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    /* Active: The Physical Click */
    button:active {
      transform: translate(8px, 8px); /* Moves down and right */
      box-shadow: 0px 0px 0px var(--accent); /* Shadow disappears */
    }

    /* Warning label sits tight to button */
    .security-label {
      font-size: 10px;
      font-weight: 700;
      color: var(--accent);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      display: block;
      margin-bottom: 8px;
    }

    .live-counter {
      font-size: 10px;
      text-align: center;
      font-weight: 600;
      color: #666;
      margin-top: 20px;
    }

    @keyframes scrollUp { 0% { transform: translateY(0); } 100% { transform: translateY(-50%); } }
    @keyframes scrollDown { 0% { transform: translateY(-50%); } 100% { transform: translateY(0); } }
    @keyframes blink { 50% { opacity: 0; } }
    @keyframes enter {
      from { opacity: 0; transform: scale(0.9) rotate(2deg); }
      to { opacity: 1; transform: scale(1) rotate(0deg); }
    }
    /* Subtle breathing animation to urge click */
    @keyframes attention {
      0%, 90%, 100% { transform: scale(1); }
      95% { transform: scale(1.02) rotate(-1deg); }
    }

    @media (max-width: 600px) {
      .wall-wrapper { gap: 10px; opacity: 0.7; }
      .container { 
        width: 88%;
        max-width: 340px; 
        padding: 30px 24px;
        box-shadow: 8px 8px 0px rgba(0,0,0,0.4); 
      }
      .brand { font-size: 42px; }
      button { font-size: 18px; height: 56px; }
    }
  </style>
</head>

<body>

  <div class="wall-wrapper" id="wall"></div>
  <div class="vignette"></div>
  <div class="grain"></div>

  <div class="container">
    <div class="badge"><span>●</span> LIVE LEAKS</div>

    <div class="brand">
      Oh my <br />
      <span>GOSS</span>
    </div>

    <div class="tagline">
      <strong>Your office is lying to you.</strong><br><br>
      Real salaries. The affair in the break room. Who is actually on the layoff list.
    </div>

    <div class="btn-wrapper">
      <label class="security-label">
        ⚠️ Access Restricted to <u><b>Work Email</b></u>
      </label>
      <button onclick="enter()">Join the Channel</button>
    </div>

    <div class="live-counter">
      <span style="color:var(--accent)">●</span> <span id="reader-count">1,428</span> employees reading now
    </div>
  </div>

  <audio id="ambience" loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_4b9a6a2d5a.mp3" type="audio/mpeg">
  </audio>

  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

  <script>
    // --- CONTENT GENERATOR (Indian Office Context) ---
    const headers = ["BANGALORE", "GURGAON", "MASS FIRING", "HR LEAK", "SALARY", "FOUNDER", "SCANDAL", "TOXIC", "WTF"];
    const bodies = [
      "Founder just bought a Maybach but denied our 5% hike.",
      "HR Head caught vaping in the fire exit with the intern.",
      "The 'Unlimited PTO' is a scam. Take >5 days and get PIP.",
      "Saw the layoff list. Entire design team gone by Friday.",
      "Manager rejected my wedding leave. Said 'Client comes first'.",
      "They are tracking badge swipes. <9 hours = Loss of Pay.",
      "Diwali bonus was literally a box of Soan Papdi.",
      "Sales VP is cooking the books. Q3 numbers are fake.",
      "Offer letter revoked 2 days before joining. No reason.",
      "90 Day Notice Period is slavery. Threatened to blacklist me.",
      "New 'Culture fit' round is just checking if you drink alcohol.",
      "Tech Lead earns 60LPA but asks how to center a div.",
      "Rangoli competition was rigged. HR won again.",
      "Bangalore office closing. Moving to Tier-2 hub to save cost."
    ];
    const styles = ["hot", "shout", "", ""];

    function getRandomItem(arr) { return arr[Math.floor(Math.random() * arr.length)]; }
    function getRandomTime() { return Math.floor(Math.random() * 59) + 1 + "s ago"; }

    const wall = document.getElementById('wall');
    const colCount = window.innerWidth < 600 ? 3 : 6;

    for (let i = 0; i < colCount; i++) {
      const col = document.createElement('div');
      col.className = `g-column ${i % 2 === 0 ? 'scroll-up' : 'scroll-down'}`;
      for(let j=0; j<8; j++) col.appendChild(createCard());
      for(let j=0; j<8; j++) col.appendChild(createCard());
      wall.appendChild(col);
    }

    function createCard() {
      const div = document.createElement('div');
      div.className = `g-note ${getRandomItem(styles)}`;
      div.innerHTML = `
        <b>${getRandomItem(headers)}</b>
        ${getRandomItem(bodies)}
        <span class="timer">${getRandomTime()}</span>
      `;
      return div;
    }

    // --- SIMULATION ---
    setInterval(() => {
      const timers = document.querySelectorAll('.timer');
      if(timers.length > 0) {
        const t = timers[Math.floor(Math.random() * timers.length)];
        let val = parseInt(t.innerText);
        if(!isNaN(val)) t.innerText = (val + 1) + "s ago";
      }
    }, 2000);

    // --- AUTH LOGIC ---
    const firebaseConfig = {
      apiKey: "AIzaSyDqwklNFPF09IiE1Gh6_ckJr2Jz6F0V2f8",
      authDomain: "rant-2me.firebaseapp.com",
      projectId: "rant-2me",
    };
    try {
      firebase.initializeApp(firebaseConfig);
    } catch(e) {}

    function enter() {
      const btn = document.querySelector('button');
      const originalText = btn.innerText;

      // 1. Start the UI effects immediately
      btn.innerHTML = "CONNECTING...";
      btn.style.transform = "translate(8px, 8px)";
      btn.style.boxShadow = "none";

      const a = document.getElementById("ambience");
      if (a) {
        a.volume = 0.2;
        a.play().catch(() => {});
      }

      // 2. Check for Firebase and trigger popup IMMEDIATELY (No setTimeout)
      if (typeof firebase !== 'undefined') {
      const provider = new firebase.auth.GoogleAuthProvider();

        firebase.auth().signInWithPopup(provider)
          .then((result) => {
            // The user has successfully logged in by this point
            const email = result.user.email.toLowerCase();
            const bannedDomains = [
              "google.com",
              "yahoo.com",
              "outlook.com",
              "hotmail.com",
              "proton.me",
              "icloud.com"
            ];

          const domain = email.split("@")[1];

          if (bannedDomains.includes(domain)) {
            alert("Work email required.");
            firebase.auth().signOut();
            // Reset button if they fail validation
            btn.innerHTML = originalText;
            btn.style = "";
            return;
          }

        // 3. OPTIONAL: You can put the drama delay HERE if you want a pause before page load
        // setTimeout(() => { 
           window.location.href = "rant.html";
        // }, 1000); 

      })
      .catch((e) => {
        // Handle errors or if user closes the popup
        btn.innerHTML = "ACCESS DENIED";
        btn.style.background = "var(--accent)"; // Ensure this var is defined in CSS
        btn.style.color = "white";
        setTimeout(() => {
          btn.innerHTML = originalText;
          btn.style = ""; // Reset styles
        }, 2000);
      });
  }
}
  </script>
</body>
</html>